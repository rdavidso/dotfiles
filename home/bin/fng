#!/bin/bash

if [ -n "$4" ]
then
    file=`find "$1" -type f -name "$2" -exec grep -Hn --color=always "$3" {} \; | sed -e 's/\(.*\):\([0-9]*\):[ \t]*\(.*\)/+\2 \1/' | sed "$4q;d"`
    vim $file
else
    find "$1" -type f -name "$2" -exec grep -Hn --color=always "$3" {} \; | sed -e 's/\(.*\):\([0-9]*\):[ \t]*\(.*\)/\1\t\2\t\3/' | column -t -c 3 -s "	" | nl
fi
